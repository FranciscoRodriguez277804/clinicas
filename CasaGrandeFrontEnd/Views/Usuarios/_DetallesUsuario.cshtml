@model ClinicaEspacioAbiertoFrontEnd.Models.Entidades.Usuario

<div class="modal-overlay" id="modalOverlay">
    <div class="modal-content card">
        <button class="close-modal" id="closeModal">&times;</button>
        <h2>Detalles del Usuario</h2>
        @if (Model.FotoFile != null)
        {
            <img src="@Url.Action("DescargarImagen", "Usuarios", new { fileId = Model.FotoFile.Id })"
                 alt="Foto de @Model.NombreCompleto.PrimerNombre"
                 class="img-fluid mb-3"
                 loading="lazy" />
        }
        else
        {
            <img src="~/assets/foto-perfil-generica.jpg"
                 alt="Foto por defecto"
                 class="img-fluid mb-3"
                 style="display: block;" />  <!-- Muestra inmediatamente la imagen genérica -->
        }
        <p><strong>Nombre: </strong>@Model.NombreCompleto.PrimerNombre @Model.NombreCompleto.PrimerApellido</p>
        <p><strong>Cédula de identidad: </strong>@Model.CI</p>
        <p><strong>Estado: </strong>@Model.Estado</p>
        <p><strong>Fecha de Nacimiento: </strong>@Model.FechaNacimiento.ToString("dd/MM/yyyy")</p>
        <p><strong>Fecha de Alta: </strong>@Model.FechaAlta.ToString("dd/MM/yyyy")</p>
        <a href="https://wa.me/@("598" + "95057231" + "?text=Hola%20" + Model.NombreCompleto.PrimerNombre + "%2C%20me%20comunico%20para%20confirmar%20tu%20última%20consulta")" target="_blank" class="btn btn-success mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-whatsapp" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="rgb(28, 89, 50)" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9" />
                <path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1" />
            </svg>
            Contactar vía WhatsApp
        </a>
        <a class="btn btn-dark" asp-controller="Usuarios" asp-action="Details" asp-route-id="@Model.Id">Ver perfil ampliado</a>
    </div>
</div>

<style>
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7); /* Un poco más oscuro para mayor contraste */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.3s ease;
    }

    .modal-content {
        background: #fff;
        padding: 30px;
        border-radius: 12px;
        max-width: 500px;
        width: 90%;
        box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.2);
        position: relative;
        z-index: 10000;
        font-family: 'Arial', sans-serif;
        transition: transform 0.3s ease;
        transform: scale(1.05);
    }

    .close-modal {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        font-weight: bold;
        color: #333;
        cursor: pointer;
        transition: color 0.3s ease;
    }

        .close-modal:hover {
            color: #e74c3c; /* Color de hover para el botón de cerrar */
        }

    /* Estilo de botones */
    .btn {
        display: inline-block;
        padding: 10px 20px;
        border-radius: 8px;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .btn-success {
        background-color: #28a745;
        color: #fff;
    }

        .btn-success:hover {
            background-color: #218838;
        }

    .btn-dark {
        background-color: #343a40;
        color: #fff;
    }

        .btn-dark:hover {
            background-color: #23272b;
        }
</style>
